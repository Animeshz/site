import{_ as i,c,a as o,b as h,d as y,w as m,e as D,r as l,o as t,f as u,g as d}from"./chunks/framework.BIeOwSkr.js";const b="/site/assets/poster.6s90tjW7.png",g="/site/assets/example.j9Fham8s.png",F="/site/assets/rebase-demo.BBvuE1j5.png",E="/site/assets/repo-ss.G-FvEtCU.jpg",k=JSON.parse('{"title":"Mono-Repos to the Rescue: Organizing and Archiving Old GitHub Projects","description":"Declutterring the GitHub Profile","frontmatter":{"title":"Mono-Repos to the Rescue: Organizing and Archiving Old GitHub Projects","description":"Declutterring the GitHub Profile","created":"2024-03-14 02:10 PM","image":"/blogs/mono-repos-archiving-github-projects/poster-full.png","tags":["git","github","version-control"]},"headers":[],"relativePath":"blogs/mono-repos-archiving-github-projects.md","filePath":"blogs/mono-repos-archiving-github-projects.md","lastUpdated":1728638516000}'),f={name:"blogs/mono-repos-archiving-github-projects.md"};function C(a,s,B,v,w,A){const p=l("BlogMetadata"),r=l("ClientOnly");return t(),c("div",null,[s[0]||(s[0]=o("h1",{id:"mono-repos-to-the-rescue-organizing-and-archiving-old-github-projects",tabindex:"-1"},[h("Mono-Repos to the Rescue: Organizing and Archiving Old GitHub Projects "),o("a",{class:"header-anchor",href:"#mono-repos-to-the-rescue-organizing-and-archiving-old-github-projects","aria-label":'Permalink to "Mono-Repos to the Rescue: Organizing and Archiving Old GitHub Projects"'},"​")],-1)),y(r,null,{default:m(()=>{var n,e;return[(((n=a.$frontmatter)==null?void 0:n.aside)??!0)&&(((e=a.$frontmatter)==null?void 0:e.showArticleMetadata)??!0)?(t(),u(p,{key:0,frontmatter:a.$frontmatter,wordCount:833},null,8,["frontmatter"])):d("",!0)]}),_:1}),s[1]||(s[1]=D('<p>Has your number of GitHub repos increased over time? And they all seem strong point of reference and you don&#39;t want to delete them? Let&#39;s dive into mono-repos for their safe and sound archival!</p><p><img src="'+b+'" alt="Poster"></p><h2 id="mono-repos" tabindex="-1">Mono Repos <a class="header-anchor" href="#mono-repos" aria-label="Permalink to &quot;Mono Repos&quot;">​</a></h2><p>Mono Repos are not a direct component in version control systems like git by itself, rahter its just a concept of merging together multiple repositories into a single one for grouping them together, and they&#39;re getting popular now a days after a long time.</p><p><img src="'+g+`" alt="Example"></p><p>I&#39;ve recently moved most of my repositories that were either doing nothing (either prototypes or not-in-use or are just old) into a the public mono-repository <a href="https://github.com/Animeshz/archives-public" target="_blank" rel="noreferrer">Animeshz/archives-public</a> and a private one named archives-private.</p><h2 id="goals" tabindex="-1">Goals <a class="header-anchor" href="#goals" aria-label="Permalink to &quot;Goals&quot;">​</a></h2><p>Since mono repos are not a direct concept in git, a lot of guides or articles shows different ways of achieving this, and some are not good enough because saying something a mono repo can also be done by just copy pasting the repository and deleting its <code>.git</code> folder, which in my opinion loses a lot of information about it.</p><p>So I do have some design goals while doing it, namely,</p><ul><li>All the commits should be preserved as-is, with dates and authors.</li><li>The commits should be easily identifyable to which repository it belonged.</li><li>The repositories that will go into the mono-repo should have a designated directory of residence and should not clog other files and folders.</li></ul><h2 id="the-approach" tabindex="-1">The approach <a class="header-anchor" href="#the-approach" aria-label="Permalink to &quot;The approach&quot;">​</a></h2><p>I&#39;ve gone through many approaches ranging from <code>git rebase</code>, <code>git filter-branch</code>, <code>git env-filter</code> and many more, which I&#39;ll link in the end if you want to have a read, but I&#39;ll quickly wrap my approach and compare it with other approaches.</p><p>First of all, creating a repository which will be our mono-repo, with <a href="./github.new.html">https://github.new</a>, and cloning it as usual,</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#C3E88D;"> clone</span><span style="color:#C3E88D;"> https://github.com/Animeshz/archives-public</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Then each repository that has to be archived, we clone it with the specific branch,</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#C3E88D;"> clone</span><span style="color:#C3E88D;"> https://github.com/</span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">use</span><span style="color:#BABED8;">r</span><span style="color:#89DDFF;">&gt;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">repository-nam</span><span style="color:#BABED8;">e</span><span style="color:#89DDFF;">&gt;</span><span style="color:#C3E88D;"> --branch</span><span style="color:#89DDFF;"> &lt;</span><span style="color:#C3E88D;">branch-nam</span><span style="color:#BABED8;">e</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#89DDFF;"> &lt;</span><span style="color:#C3E88D;">repository-nam</span><span style="color:#BABED8;">e</span><span style="color:#89DDFF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>First, we&#39;ll make its history linear so that we can export the whole branch as patch with <code>git format-patch</code> later on. We&#39;ll do this by removing the merge diamond, that is created by canonical merges <a href="/site/blogs/using-git-for-effective-collaboration.html#situations-on-merge">see my previous article</a>, which can be done by rebase.</p><p>This can be done by <code>git rebase</code> which will rewrite the history by applying commit one after another chronologically,</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#C3E88D;"> rebase</span><span style="color:#C3E88D;"> --root</span><span style="color:#C3E88D;"> -X</span><span style="color:#C3E88D;"> theirs</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#C3E88D;"> merge</span><span style="color:#C3E88D;"> --ff</span><span style="color:#89DDFF;"> $(</span><span style="color:#FFCB6B;">git</span><span style="color:#C3E88D;"> commit-tree</span><span style="color:#C3E88D;"> remotes/origin/</span><span style="color:#89DDFF;">\${</span><span style="color:#BABED8;">BRANCH</span><span style="color:#89DDFF;">:-</span><span style="color:#BABED8;">HEAD</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">^{tree}</span><span style="color:#C3E88D;"> -m</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">Fix after making history linear</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;"> -p</span><span style="color:#C3E88D;"> HEAD</span><span style="color:#89DDFF;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>The <code>-X theirs</code> accepts the merger branch&#39;s changes as <code>git merge</code> happens to do to keep the merge diamond, and then make a merge commit which accounts for the conflict resolution, here we do something similar, we accept theirs and then whatever delta we see from the rebase completion to the original state of the repository were, we apply it with a fast forward merge. Effectively making our history linear.</p><p><img src="`+F+`" alt="Rebase Demo"></p><p>Now, we can proceed with our main logic, rewriting history such that the whole repo is contained in a directory as well as renaming commits such that they&#39;re identifyable to be part of current repo,</p><p>We can do this by <code>git filter-branch</code> and <code>git env-filter</code>, but <code>git filter-branch</code> when ran, itself suggests the use of <a href="https://github.com/newren/git-filter-repo" target="_blank" rel="noreferrer">newren/git-filter-repo</a>. So we&#39;ll go with suggested method.</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">nix</span><span style="color:#C3E88D;"> profile</span><span style="color:#C3E88D;"> install</span><span style="color:#C3E88D;"> nixpkgs#git-filter-repo</span><span style="color:#676E95;font-style:italic;">  # or by your package-manager</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">NAME</span><span style="color:#89DDFF;">=&lt;</span><span style="color:#C3E88D;">repo-name</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#C3E88D;"> filter-repo</span><span style="color:#C3E88D;"> --replace-message</span><span style="color:#89DDFF;"> &lt;(</span><span style="color:#82AAFF;">echo</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">regex:^==&gt;[</span><span style="color:#BABED8;">$NAME</span><span style="color:#C3E88D;">] </span><span style="color:#89DDFF;">&quot;)</span><span style="color:#C3E88D;"> --path-rename</span><span style="color:#C3E88D;"> :</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">$NAME</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>This should move all the files into subdirectory going by name <code>$NAME</code> rewriting the commit history, also prefixing each commit message by <code>[$NAME] </code>.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>While almost all the inbuilt git commands allows you reverting changes, this command repacks the git objects and garbage collect immediately, thus loosing the ability to go back with <code>git reflog</code>, if you don&#39;t want this behavior you can pass <code>--partial</code> to not garbage collect in the end.<br>See <a href="https://htmlpreview.github.io/?https://github.com/newren/git-filter-repo/blob/docs/html/git-filter-repo.html" target="_blank" rel="noreferrer">docs</a> for more info.</p></div><p>For instance for repo named <code>overengineered-pastebin</code>, something like this will happen:</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span>$ git log --format=fuller -p</span></span>
<span class="line"><span>...</span></span>
<span class="line"><span>commit 3520a5c93bb65103f23532d4d37ffcc33c727587</span></span>
<span class="line"><span>Author:     Animesh Sahu &lt;animeshsahu19@yahoo.com&gt;</span></span>
<span class="line"><span>AuthorDate: Fri Nov 4 12:03:22 2022 +0530</span></span>
<span class="line"><span>Commit:     Animesh Sahu &lt;animeshsahu19@yahoo.com&gt;</span></span>
<span class="line"><span>CommitDate: Fri Nov 4 12:03:22 2022 +0530</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    [overengineered-pastebin] Your commit message</span></span>
<span class="line"><span></span></span>
<span class="line"><span>diff --git a/overengineered-pastebin/frontend/src/components/LanguageSelektor.vue b/overengineered-pastebin/frontend/src/components/LanguageSelektor.vue</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>Now the only thing remaining to do is to export the commits and import them into our mono-repo,</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#C3E88D;"> format-patch</span><span style="color:#C3E88D;"> -k</span><span style="color:#C3E88D;"> --no-stat</span><span style="color:#C3E88D;"> --stdout</span><span style="color:#C3E88D;"> --root</span><span style="color:#C3E88D;"> HEAD</span><span style="color:#89DDFF;"> &gt;</span><span style="color:#C3E88D;"> my.patch</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#C3E88D;"> /path/to/archives-public/</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#C3E88D;"> am</span><span style="color:#C3E88D;"> -k</span><span style="color:#C3E88D;"> -3</span><span style="color:#C3E88D;"> --committer-date-is-author-date</span><span style="color:#C3E88D;"> --empty=drop</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">/path/to/archiving/repo/my.patch</span><span style="color:#89DDFF;">&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>This should super-impose the new repo contained in a designated directory by previous commands with the mono-repo by applying the commits from the repo that is to be archived.</p><h2 id="final-script" tabindex="-1">Final Script <a class="header-anchor" href="#final-script" aria-label="Permalink to &quot;Final Script&quot;">​</a></h2><p>I&#39;ve turned this into an interactive script by using <a href="https://github.com/charmbracelet/gum" target="_blank" rel="noreferrer">charmbracelet/gum</a>.</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">#!/bin/bash</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">MONOREPO</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;$(</span><span style="color:#FFCB6B;">realpath</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#BABED8;font-style:italic;">$1</span><span style="color:#89DDFF;">&quot;)&quot;</span></span>
<span class="line"><span style="color:#BABED8;">REPO</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;$(</span><span style="color:#FFCB6B;">gum</span><span style="color:#C3E88D;"> input --placeholder </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Repository URL</span><span style="color:#89DDFF;">&quot;)&quot;</span></span>
<span class="line"><span style="color:#BABED8;">BRANCH</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;$(</span><span style="color:#FFCB6B;">gum</span><span style="color:#C3E88D;"> input --placeholder </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Branch (empty for default)</span><span style="color:#89DDFF;">&quot;)&quot;</span></span>
<span class="line"><span style="color:#BABED8;">NAME</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;$(</span><span style="color:#FFCB6B;">gum</span><span style="color:#C3E88D;"> input --placeholder </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Custom name of subrepo</span><span style="color:#89DDFF;">&quot;)&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">NAME</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;\${</span><span style="color:#BABED8;">NAME</span><span style="color:#89DDFF;">:-\${</span><span style="color:#BABED8;">REPO</span><span style="color:#89DDFF;">##*/}}&quot;</span></span>
<span class="line"><span style="color:#BABED8;">NAME</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;\${</span><span style="color:#BABED8;">NAME</span><span style="color:#89DDFF;">%</span><span style="color:#C3E88D;">.</span><span style="color:#BABED8;">git</span><span style="color:#89DDFF;">}&quot;</span></span>
<span class="line"><span style="color:#BABED8;">options</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#89DDFF;"> [[</span><span style="color:#89DDFF;"> -n</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#BABED8;">$BRANCH</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> ]];</span><span style="color:#89DDFF;font-style:italic;"> then</span></span>
<span class="line"><span style="color:#BABED8;">    options</span><span style="color:#89DDFF;">+=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">-b </span><span style="color:#BABED8;">$BRANCH</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[[</span><span style="color:#89DDFF;"> -d</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">/tmp/</span><span style="color:#BABED8;">$NAME</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> ]]</span><span style="color:#89DDFF;"> &amp;&amp;</span><span style="color:#FFCB6B;"> gum</span><span style="color:#C3E88D;"> confirm</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">Delete directory /tmp/</span><span style="color:#BABED8;">$NAME</span><span style="color:#C3E88D;"> (already exists)</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> &amp;&amp;</span><span style="color:#FFCB6B;"> rm</span><span style="color:#C3E88D;"> -rf</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">/tmp/</span><span style="color:#BABED8;">$NAME</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#C3E88D;"> clone</span><span style="color:#BABED8;"> $options </span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">$REPO</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">/tmp/</span><span style="color:#BABED8;">$NAME</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">/tmp/</span><span style="color:#BABED8;">$NAME</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#C3E88D;"> rebase</span><span style="color:#C3E88D;"> --root</span><span style="color:#C3E88D;"> -X</span><span style="color:#C3E88D;"> theirs</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#C3E88D;"> merge</span><span style="color:#C3E88D;"> --ff</span><span style="color:#89DDFF;"> $(</span><span style="color:#FFCB6B;">git</span><span style="color:#C3E88D;"> commit-tree</span><span style="color:#C3E88D;"> remotes/origin/</span><span style="color:#89DDFF;">\${</span><span style="color:#BABED8;">BRANCH</span><span style="color:#89DDFF;">:-</span><span style="color:#BABED8;">HEAD</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">^{tree}</span><span style="color:#C3E88D;"> -m</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">Fix after making history linear</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;"> -p</span><span style="color:#C3E88D;"> HEAD</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#C3E88D;"> filter-repo</span><span style="color:#C3E88D;"> --replace-message</span><span style="color:#89DDFF;"> &lt;(</span><span style="color:#82AAFF;">echo</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">regex:^==&gt;[</span><span style="color:#BABED8;">$NAME</span><span style="color:#C3E88D;">] </span><span style="color:#89DDFF;">&quot;)</span><span style="color:#C3E88D;"> --path-rename</span><span style="color:#C3E88D;"> :</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">$NAME</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/</span><span style="color:#C3E88D;"> -f</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#C3E88D;"> format-patch</span><span style="color:#C3E88D;"> -k</span><span style="color:#C3E88D;"> --no-stat</span><span style="color:#C3E88D;"> --stdout</span><span style="color:#C3E88D;"> --root</span><span style="color:#C3E88D;"> HEAD</span><span style="color:#89DDFF;"> &gt;</span><span style="color:#C3E88D;"> my.patch</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#BABED8;"> $MONOREPO </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#FFCB6B;"> git</span><span style="color:#C3E88D;"> am</span><span style="color:#C3E88D;"> -k</span><span style="color:#C3E88D;"> -3</span><span style="color:#C3E88D;"> --committer-date-is-author-date</span><span style="color:#C3E88D;"> --empty=drop</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">/tmp/</span><span style="color:#BABED8;">$NAME</span><span style="color:#C3E88D;">/my.patch</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">gum</span><span style="color:#C3E88D;"> confirm</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">Delete cloned repo</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> &amp;&amp;</span><span style="color:#FFCB6B;"> rm</span><span style="color:#C3E88D;"> -rf</span><span style="color:#C3E88D;"> /tmp/</span><span style="color:#BABED8;">$NAME</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h2 id="conclusion" tabindex="-1">Conclusion <a class="header-anchor" href="#conclusion" aria-label="Permalink to &quot;Conclusion&quot;">​</a></h2><p>I&#39;ve crunched down 110+ repositories on my github profile into bare 26, splitting them into archives-public and archives-private, removing stale forks in between as well. This let me clean up the profile for an ergonomic view into it.</p><p><img src="`+E+'" alt="Repo Final"></p><h2 id="references" tabindex="-1">References <a class="header-anchor" href="#references" aria-label="Permalink to &quot;References&quot;">​</a></h2><ol><li>Rebase way of doing it (way too slow), <ul><li><a href="https://stackoverflow.com/a/73314321/11377112" target="_blank" rel="noreferrer">https://stackoverflow.com/a/73314321/11377112</a></li><li><a href="https://stackoverflow.com/a/69551810/11377112" target="_blank" rel="noreferrer">https://stackoverflow.com/a/69551810/11377112</a></li></ul><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#C3E88D;"> -c</span><span style="color:#C3E88D;"> rebase.instructionFormat=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%s%nexec GIT_COMMITTER_DATE=&quot;%cD&quot; GIT_AUTHOR_DATE=&quot;%aD&quot; git commit --amend -m &quot;bhao bhao: $(git show -s --format=%%s)&quot;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;"> rebase</span><span style="color:#C3E88D;"> -i</span><span style="color:#C3E88D;"> --root</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li>Manual patching with sed <ul><li><a href="https://medium.com/@TimHolzherr/how-to-move-your-git-repository-into-a-monorepo-without-loosing-its-history-9b9d2da27155" target="_blank" rel="noreferrer">https://medium.com/@TimHolzherr/how-to-move-your-git-repository-into-a-monorepo-without-loosing-its-history-9b9d2da27155</a></li></ul></li><li>Using <code>git filter-branch</code><ul><li><a href="https://leyanlo.medium.com/how-to-move-one-git-repository-into-a-subdirectory-of-another-with-rebase-2b297b628c57" target="_blank" rel="noreferrer">https://leyanlo.medium.com/how-to-move-one-git-repository-into-a-subdirectory-of-another-with-rebase-2b297b628c57</a>.</li></ul></li><li>Git filter-repo manual <ul><li><a href="https://htmlpreview.github.io/?https://github.com/newren/git-filter-repo/blob/docs/html/git-filter-repo.html" target="_blank" rel="noreferrer">https://htmlpreview.github.io/?https://github.com/newren/git-filter-repo/blob/docs/html/git-filter-repo.html</a></li></ul></li></ol><h2 id="further-reading" tabindex="-1">Further Reading <a class="header-anchor" href="#further-reading" aria-label="Permalink to &quot;Further Reading&quot;">​</a></h2><p>Backlinks</p><ul><li><a href="https://www.reddit.com/r/github/comments/1bei6h6/monorepos_to_the_rescue_organizing_and_archiving" target="_blank" rel="noreferrer">r/github</a></li><li><a href="https://news.ycombinator.com/item?id=39702247" target="_blank" rel="noreferrer">HN</a></li><li><a href="https://www.linkedin.com/posts/animeshz_mono-repos-to-the-rescue-organizing-and-activity-7173990964946956288-0lQg" target="_blank" rel="noreferrer">LinkedIn</a></li></ul>',42))])}const _=i(f,[["render",C]]);export{k as __pageData,_ as default};
