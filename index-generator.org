#+STARTUP: overview hideblocks

** Info

This generates all the index for the =/blogs=, =/notes= and =/journal= landing pages.

To generate just hit =C-c C-v t=. Be sure to load the [[https://orgmode.org/worg/org-contrib/babel/languages/ob-doc-shell.html][shell module]] if you haven't..

*** For blogs

Currently blog index is not generated by this file, but is soon going to be migrated.

Tag-List:

#+name: tag-list
#+begin_src sh :results output
cd content/blogs
grep -L 'draft:\s*true' $(fd -tf '.md$') | grep -v 'index.md' | xargs grep tags | sed -E -e 's/.*tags: \[([^]]+)\].*/\1/' -e 's/[" ]//g' -e 's/,/\n/g' | sort | uniq -c | awk "{print \"{name: '\" \$2 \"', value: \" \$1 \"},\"}"
#+end_src

#+begin_src markdown :noweb yes :exports code :tangle "content/blogs/index.md"
---
sidebar: false
aside: false
patreon: false
created: 2022-09-01 12:00 AM
---

# üìù Blogs

Here are all the blogs I've written:

<WordCloud :dataList="[
  <<tag-list()>>]" :style="{ width: '100%', height: '130px' }" />

---

<BlogList />
#+end_src


*** For notes

#+name: notes-list
#+begin_src sh :results output
cd content/notes
fd | grep '/' | awk -F'/' '
function heading(n) { s=""; for(i=1;i<=n;i++) s = s "#"; return s " "; }
function strip_md(s) { gsub(/.md/, "", s); return s; }
{
  if ($NF == "") { print heading(NF) $(NF-1) }
  else if ($NF ~ /.md$/) { print "* [" strip_md($NF) "](</notes/" $0 ">)" }
}'
#+end_src

#+begin_src markdown :noweb yes :exports code :tangle "content/notes/index.md"
# üìî Notes

Here are all my (short) notes, organized in [Johnny Decimal](https://johnnydecimal.com/10-19-concepts/11-core/11.01-introduction) System.

<<notes-list()>>
#+end_src


*** For journal

#+name: journal-list
#+begin_src sh :results output
cd content/journal
fd | grep '/' | awk -F'/' '
function heading(n) { s=""; for(i=1;i<=n;i++) s = s "#"; return s " "; }
function strip_md(s) { gsub(/.md/, "", s); return s; }
{
  if ($NF == "") { print heading(NF) $(NF-1) }
  else if ($NF ~ /.md$/) { print "* [" strip_md($NF) "](</journal/" $0 ">)" }
}'
#+end_src

#+begin_src markdown :noweb yes :exports code :tangle "content/journal/index.md"
# ‚úçüèª Journal

<<journal-list()>>
#+end_src
