<!DOCTYPE html>
<html lang="en-IN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Mono-Repos to the Rescue: Organizing and Archiving Old GitHub Projects | Animesh Sahu</title>
    <meta name="description" content="Declutterring the GitHub Profile">
    <link rel="preload stylesheet" href="/site/assets/style.9b097e31.css" as="style">
    
    <script type="module" src="/site/assets/app.5c114c75.js"></script>
    <link rel="preload" href="/site/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/site/assets/chunks/framework.7446e1aa.js">
    <link rel="modulepreload" href="/site/assets/chunks/theme.9524b6d8.js">
    <link rel="modulepreload" href="/site/assets/blogs_mono-repos-archiving-github-projects.md.85a6f0eb.lean.js">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Klee+One:wght@600&amp;display=swap%22">
    <link rel="alternate" type="application/rss+xml" href="/site/rss.xml" title="Animesh Sahu | Sitewide RSS Feed">
    <link rel="alternate" type="application/atom+xml" href="/site/atom.xml" title="Animesh Sahu | Sitewide Atom Feed">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-9f53da12><!--[--><!--]--><!--[--><span tabindex="-1" data-v-6adecf08></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-6adecf08> Skip to content </a><!--]--><!----><header class="VPNav" data-v-9f53da12 data-v-3eaeeb12><div class="VPNavBar" data-v-3eaeeb12 data-v-fd97fd45><div class="container" data-v-fd97fd45><div class="title" data-v-fd97fd45><div class="VPNavBarTitle" data-v-fd97fd45 data-v-3215d495><a class="title" href="/site/" data-v-3215d495><!--[--><!--]--><!----><!--[-->Animesh Sahu / Home<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-fd97fd45><div class="curtain" data-v-fd97fd45></div><div class="content-body" data-v-fd97fd45><!--[--><!--]--><div class="VPNavBarSearch search" data-v-fd97fd45><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-fd97fd45 data-v-25195b31><span id="main-nav-aria-label" class="visually-hidden" data-v-25195b31>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/site/" tabindex="0" data-v-25195b31 data-v-5c9abb1f><!--[--><span data-v-5c9abb1f>🏠 Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/site/blogs/" tabindex="0" data-v-25195b31 data-v-5c9abb1f><!--[--><span data-v-5c9abb1f>📝 Blogs</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/site/notes/" tabindex="0" data-v-25195b31 data-v-5c9abb1f><!--[--><span data-v-5c9abb1f>📔 Notes</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/site/projects/" tabindex="0" data-v-25195b31 data-v-5c9abb1f><!--[--><span data-v-5c9abb1f>🚀 Projects</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/site/journal/" tabindex="0" data-v-25195b31 data-v-5c9abb1f><!--[--><span data-v-5c9abb1f>✍🏻 Journal</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-fd97fd45 data-v-35d7cc8c><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-35d7cc8c data-v-3796519b data-v-4b1b2a9b><span class="check" data-v-4b1b2a9b><span class="icon" data-v-4b1b2a9b><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-3796519b><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-3796519b><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-fd97fd45 data-v-34c69feb data-v-9df0a34d><!--[--><a class="VPSocialLink no-icon" href="/site/atom.xml" aria-label target="_blank" rel="noopener" data-v-9df0a34d data-v-0b6d72b9><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-rss" viewBox="0 0 16 16"><path d="M5.5 12a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm-3-8.5a1 1 0 0 1 1-1c5.523 0 10 4.477 10 10a1 1 0 1 1-2 0 8 8 0 0 0-8-8 1 1 0 0 1-1-1zm0 4a1 1 0 0 1 1-1 6 6 0 0 1 6 6 1 1 0 1 1-2 0 4 4 0 0 0-4-4 1 1 0 0 1-1-1z"/></svg></a><a class="VPSocialLink no-icon" href="https://github.com/Animeshz/site" aria-label="github" target="_blank" rel="noopener" data-v-9df0a34d data-v-0b6d72b9><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-fd97fd45 data-v-2be127c6 data-v-836a85f6><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-836a85f6><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-836a85f6><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-836a85f6><div class="VPMenu" data-v-836a85f6 data-v-3d8d06cc><!----><!--[--><!--[--><!----><div class="group" data-v-2be127c6><div class="item appearance" data-v-2be127c6><p class="label" data-v-2be127c6>Appearance</p><div class="appearance-action" data-v-2be127c6><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-2be127c6 data-v-3796519b data-v-4b1b2a9b><span class="check" data-v-4b1b2a9b><span class="icon" data-v-4b1b2a9b><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-3796519b><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-3796519b><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-2be127c6><div class="item social-links" data-v-2be127c6><div class="VPSocialLinks social-links-list" data-v-2be127c6 data-v-9df0a34d><!--[--><a class="VPSocialLink no-icon" href="/site/atom.xml" aria-label target="_blank" rel="noopener" data-v-9df0a34d data-v-0b6d72b9><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-rss" viewBox="0 0 16 16"><path d="M5.5 12a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm-3-8.5a1 1 0 0 1 1-1c5.523 0 10 4.477 10 10a1 1 0 1 1-2 0 8 8 0 0 0-8-8 1 1 0 0 1-1-1zm0 4a1 1 0 0 1 1-1 6 6 0 0 1 6 6 1 1 0 1 1-2 0 4 4 0 0 0-4-4 1 1 0 0 1-1-1z"/></svg></a><a class="VPSocialLink no-icon" href="https://github.com/Animeshz/site" aria-label="github" target="_blank" rel="noopener" data-v-9df0a34d data-v-0b6d72b9><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-fd97fd45 data-v-e60fa36a><span class="container" data-v-e60fa36a><span class="top" data-v-e60fa36a></span><span class="middle" data-v-e60fa36a></span><span class="bottom" data-v-e60fa36a></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav fixed reached-top" data-v-9f53da12 data-v-5356aad0><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-5356aad0 data-v-89d30736><button data-v-89d30736>Return to top</button><!----></div></div><!----><div class="VPContent" id="VPContent" data-v-9f53da12 data-v-985615c6><div class="VPDoc has-aside" data-v-985615c6 data-v-7d2be7d2><!--[--><!--]--><div class="container" data-v-7d2be7d2><div class="aside" data-v-7d2be7d2><div class="aside-curtain" data-v-7d2be7d2></div><div class="aside-container" data-v-7d2be7d2><div class="aside-content" data-v-7d2be7d2><div class="VPDocAside" data-v-7d2be7d2 data-v-cca0b9b7><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-cca0b9b7 data-v-970191a8><div class="content" data-v-970191a8><div class="outline-marker" data-v-970191a8></div><div class="outline-title" role="heading" aria-level="2" data-v-970191a8>Table of Contents</div><nav aria-labelledby="doc-outline-aria-label" data-v-970191a8><span class="visually-hidden" id="doc-outline-aria-label" data-v-970191a8> Table of Contents for current page </span><ul class="root" data-v-970191a8 data-v-a42e02b1><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-cca0b9b7></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-7d2be7d2><div class="content-container" data-v-7d2be7d2><!--[--><!--]--><!----><main class="main" data-v-7d2be7d2><div style="position:relative;" class="vp-doc _site_blogs_mono-repos-archiving-github-projects" data-v-7d2be7d2><div><h1 id="mono-repos-to-the-rescue-organizing-and-archiving-old-github-projects" tabindex="-1">Mono-Repos to the Rescue: Organizing and Archiving Old GitHub Projects <a class="header-anchor" href="#mono-repos-to-the-rescue-organizing-and-archiving-old-github-projects" aria-label="Permalink to &quot;Mono-Repos to the Rescue: Organizing and Archiving Old GitHub Projects&quot;">​</a></h1><!----><p>Has your number of GitHub repos increased over time? And they all seem strong point of reference and you don&#39;t want to delete them? Let&#39;s dive into mono-repos for their safe and sound archival!</p><p><img src="/site/assets/poster.098c120e.png" alt="Poster"></p><h2 id="mono-repos" tabindex="-1">Mono Repos <a class="header-anchor" href="#mono-repos" aria-label="Permalink to &quot;Mono Repos&quot;">​</a></h2><p>Mono Repos are not a direct component in version control systems like git by itself, rahter its just a concept of merging together multiple repositories into a single one for grouping them together, and they&#39;re getting popular now a days after a long time.</p><p><img src="/site/assets/example.c2e5938d.png" alt="Example"></p><p>I&#39;ve recently moved most of my repositories that were either doing nothing (either prototypes or not-in-use or are just old) into a the public mono-repository <a href="https://github.com/Animeshz/archives-public" target="_blank" rel="noreferrer">Animeshz/archives-public</a> and a private one named archives-private.</p><h2 id="goals" tabindex="-1">Goals <a class="header-anchor" href="#goals" aria-label="Permalink to &quot;Goals&quot;">​</a></h2><p>Since mono repos are not a direct concept in git, a lot of guides or articles shows different ways of achieving this, and some are not good enough because saying something a mono repo can also be done by just copy pasting the repository and deleting its <code>.git</code> folder, which in my opinion loses a lot of information about it.</p><p>So I do have some design goals while doing it, namely,</p><ul><li>All the commits should be preserved as-is, with dates and authors.</li><li>The commits should be easily identifyable to which repository it belonged.</li><li>The repositories that will go into the mono-repo should have a designated directory of residence and should not clog other files and folders.</li></ul><h2 id="the-approach" tabindex="-1">The approach <a class="header-anchor" href="#the-approach" aria-label="Permalink to &quot;The approach&quot;">​</a></h2><p>I&#39;ve gone through many approaches ranging from <code>git rebase</code>, <code>git filter-branch</code>, <code>git env-filter</code> and many more, which I&#39;ll link in the end if you want to have a read, but I&#39;ll quickly wrap my approach and compare it with other approaches.</p><p>First of all, creating a repository which will be our mono-repo, with <a href="github.new">https://github.new</a>, and cloning it as usual,</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">clone</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">https://github.com/Animeshz/archives-public</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Then each repository that has to be archived, we clone it with the specific branch,</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">clone</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">https://github.com/</span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">use</span><span style="color:#BABED8;">r</span><span style="color:#89DDFF;">&gt;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">repository-nam</span><span style="color:#BABED8;">e</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--branch</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">branch-nam</span><span style="color:#BABED8;">e</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">repository-nam</span><span style="color:#BABED8;">e</span><span style="color:#89DDFF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>First, we&#39;ll make its history linear so that we can export the whole branch as patch with <code>git format-patch</code> later on. We&#39;ll do this by removing the merge diamond, that is created by canonical merges <a href="/site/blogs/using-git-for-effective-collaboration.html#situations-on-merge">see my previous article</a>, which can be done by rebase.</p><p>This can be done by <code>git rebase</code> which will rewrite the history by applying commit one after another chronologically,</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">rebase</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--root</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-X</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">theirs</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">merge</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--ff</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">$(</span><span style="color:#FFCB6B;">git</span><span style="color:#C3E88D;"> commit-tree remotes/origin/</span><span style="color:#89DDFF;">${</span><span style="color:#BABED8;">BRANCH</span><span style="color:#89DDFF;">:-</span><span style="color:#BABED8;">HEAD</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">^{tree} -m </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Fix after making history linear</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;"> -p HEAD</span><span style="color:#89DDFF;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>The <code>-X theirs</code> accepts the merger branch&#39;s changes as <code>git merge</code> happens to do to keep the merge diamond, and then make a merge commit which accounts for the conflict resolution, here we do something similar, we accept theirs and then whatever delta we see from the rebase completion to the original state of the repository were, we apply it with a fast forward merge. Effectively making our history linear.</p><p><img src="/site/assets/rebase-demo.ccc93894.png" alt="Rebase Demo"></p><p>Now, we can proceed with our main logic, rewriting history such that the whole repo is contained in a directory as well as renaming commits such that they&#39;re identifyable to be part of current repo,</p><p>We can do this by <code>git filter-branch</code> and <code>git env-filter</code>, but <code>git filter-branch</code> when ran, itself suggests the use of <a href="https://github.com/newren/git-filter-repo" target="_blank" rel="noreferrer">newren/git-filter-repo</a>. So we&#39;ll go with suggested method.</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">nix</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">profile</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">install</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">nixpkgs#git-filter-repo</span><span style="color:#BABED8;">  </span><span style="color:#676E95;font-style:italic;"># or by your package-manager</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">NAME</span><span style="color:#89DDFF;">=&lt;</span><span style="color:#C3E88D;">repo-nam</span><span style="color:#BABED8;">e</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">filter-repo</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--replace-message</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&lt;(</span><span style="color:#82AAFF;">echo</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">regex:^==&gt;[</span><span style="color:#BABED8;">$NAME</span><span style="color:#C3E88D;">] </span><span style="color:#89DDFF;">&quot;)</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--path-rename</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">$NAME</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>This should move all the files into subdirectory going by name <code>$NAME</code> rewriting the commit history, also prefixing each commit message by <code>[$NAME] </code>.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>While almost all the inbuilt git commands allows you reverting changes, this command repacks the git objects and garbage collect immediately, thus loosing the ability to go back with <code>git reflog</code>, if you don&#39;t want this behavior you can pass <code>--partial</code> to not garbage collect in the end.<br>See <a href="https://htmlpreview.github.io/?https://github.com/newren/git-filter-repo/blob/docs/html/git-filter-repo.html" target="_blank" rel="noreferrer">docs</a> for more info.</p></div><p>For instance for repo named <code>overengineered-pastebin</code>, something like this will happen:</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight has-diff"><code><span class="line"><span style="color:#babed8;">$ git log --format=fuller -p</span></span>
<span class="line"><span style="color:#babed8;">...</span></span>
<span class="line"><span style="color:#babed8;">commit 3520a5c93bb65103f23532d4d37ffcc33c727587</span></span>
<span class="line"><span style="color:#babed8;">Author:     Animesh Sahu &lt;animeshsahu19@yahoo.com&gt;</span></span>
<span class="line"><span style="color:#babed8;">AuthorDate: Fri Nov 4 12:03:22 2022 +0530</span></span>
<span class="line"><span style="color:#babed8;">Commit:     Animesh Sahu &lt;animeshsahu19@yahoo.com&gt;</span></span>
<span class="line"><span style="color:#babed8;">CommitDate: Fri Nov 4 12:03:22 2022 +0530</span></span>
<span class="line"><span style="color:#babed8;"></span></span>
<span class="line"><span style="color:#babed8;">    [overengineered-pastebin] Your commit message</span></span>
<span class="line"><span style="color:#babed8;"></span></span>
<span class="line"><span style="color:#babed8;">diff --git a/overengineered-pastebin/frontend/src/components/LanguageSelektor.vue b/overengineered-pastebin/frontend/src/components/LanguageSelektor.vue</span></span>
<span class="line"><span style="color:#babed8;">...</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>Now the only thing remaining to do is to export the commits and import them into our mono-repo,</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">format-patch</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-k</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--no-stat</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--stdout</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--root</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">HEAD</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">my.patch</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/path/to/archives-public/</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">am</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-k</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-3</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--committer-date-is-author-date</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--empty=drop</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/path/to/archiving/repo/my.patch</span><span style="color:#89DDFF;">&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>This should super-impose the new repo contained in a designated directory by previous commands with the mono-repo by applying the commits from the repo that is to be archived.</p><h2 id="final-script" tabindex="-1">Final Script <a class="header-anchor" href="#final-script" aria-label="Permalink to &quot;Final Script&quot;">​</a></h2><p>I&#39;ve turned this into an interactive script by using <a href="https://github.com/charmbracelet/gum" target="_blank" rel="noreferrer">charmbracelet/gum</a>.</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">#!/bin/bash</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">MONOREPO</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;$(</span><span style="color:#FFCB6B;">realpath</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;font-style:italic;">$1</span><span style="color:#89DDFF;">&quot;)&quot;</span></span>
<span class="line"><span style="color:#BABED8;">REPO</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;$(</span><span style="color:#FFCB6B;">gum</span><span style="color:#C3E88D;"> input --placeholder </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Repository URL</span><span style="color:#89DDFF;">&quot;)&quot;</span></span>
<span class="line"><span style="color:#BABED8;">BRANCH</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;$(</span><span style="color:#FFCB6B;">gum</span><span style="color:#C3E88D;"> input --placeholder </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Branch (empty for default)</span><span style="color:#89DDFF;">&quot;)&quot;</span></span>
<span class="line"><span style="color:#BABED8;">NAME</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;$(</span><span style="color:#FFCB6B;">gum</span><span style="color:#C3E88D;"> input --placeholder </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Custom name of subrepo</span><span style="color:#89DDFF;">&quot;)&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">NAME</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;${</span><span style="color:#BABED8;">NAME</span><span style="color:#89DDFF;">:-${</span><span style="color:#BABED8;">REPO</span><span style="color:#89DDFF;">##*/}}&quot;</span></span>
<span class="line"><span style="color:#BABED8;">NAME</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;${</span><span style="color:#BABED8;">NAME</span><span style="color:#89DDFF;">%</span><span style="color:#C3E88D;">.</span><span style="color:#BABED8;">git</span><span style="color:#89DDFF;">}&quot;</span></span>
<span class="line"><span style="color:#BABED8;">options</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">[[</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">-n</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">$BRANCH</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">]];</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">then</span></span>
<span class="line"><span style="color:#BABED8;">    options</span><span style="color:#89DDFF;">+=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">-b </span><span style="color:#BABED8;">$BRANCH</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[[</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">-d</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/tmp/</span><span style="color:#BABED8;">$NAME</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">]]</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">gum</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">confirm</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Delete directory /tmp/</span><span style="color:#BABED8;">$NAME</span><span style="color:#C3E88D;"> (already exists)</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">rm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-rf</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/tmp/</span><span style="color:#BABED8;">$NAME</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">clone</span><span style="color:#BABED8;"> $options </span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">$REPO</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/tmp/</span><span style="color:#BABED8;">$NAME</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/tmp/</span><span style="color:#BABED8;">$NAME</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">rebase</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--root</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-X</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">theirs</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">merge</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--ff</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">$(</span><span style="color:#FFCB6B;">git</span><span style="color:#C3E88D;"> commit-tree remotes/origin/</span><span style="color:#89DDFF;">${</span><span style="color:#BABED8;">BRANCH</span><span style="color:#89DDFF;">:-</span><span style="color:#BABED8;">HEAD</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">^{tree} -m </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Fix after making history linear</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;"> -p HEAD</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">filter-repo</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--replace-message</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&lt;(</span><span style="color:#82AAFF;">echo</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">regex:^==&gt;[</span><span style="color:#BABED8;">$NAME</span><span style="color:#C3E88D;">] </span><span style="color:#89DDFF;">&quot;)</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--path-rename</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">$NAME</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-f</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">format-patch</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-k</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--no-stat</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--stdout</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--root</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">HEAD</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">my.patch</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#BABED8;"> $MONOREPO </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">git</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">am</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-k</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-3</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--committer-date-is-author-date</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--empty=drop</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/tmp/</span><span style="color:#BABED8;">$NAME</span><span style="color:#C3E88D;">/my.patch</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">gum</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">confirm</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Delete cloned repo</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">rm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-rf</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/tmp/</span><span style="color:#BABED8;">$NAME</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h2 id="conclusion" tabindex="-1">Conclusion <a class="header-anchor" href="#conclusion" aria-label="Permalink to &quot;Conclusion&quot;">​</a></h2><p>I&#39;ve crunched down 110+ repositories on my github profile into bare 26, splitting them into archives-public and archives-private, removing stale forks in between as well. This let me clean up the profile for an ergonomic view into it.</p><p><img src="/site/assets/repo-ss.b5300b4e.jpg" alt="Repo Final"></p><h2 id="references" tabindex="-1">References <a class="header-anchor" href="#references" aria-label="Permalink to &quot;References&quot;">​</a></h2><ol><li>Rebase way of doing it (way too slow), <ul><li><a href="https://stackoverflow.com/a/73314321/11377112" target="_blank" rel="noreferrer">https://stackoverflow.com/a/73314321/11377112</a></li><li><a href="https://stackoverflow.com/a/69551810/11377112" target="_blank" rel="noreferrer">https://stackoverflow.com/a/69551810/11377112</a></li></ul><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-c</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">rebase.instructionFormat=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%s%nexec GIT_COMMITTER_DATE=&quot;%cD&quot; GIT_AUTHOR_DATE=&quot;%aD&quot; git commit --amend -m &quot;bhao bhao: $(git show -s --format=%%s)&quot;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">rebase</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-i</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--root</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li>Manual patching with sed <ul><li><a href="https://medium.com/@TimHolzherr/how-to-move-your-git-repository-into-a-monorepo-without-loosing-its-history-9b9d2da27155" target="_blank" rel="noreferrer">https://medium.com/@TimHolzherr/how-to-move-your-git-repository-into-a-monorepo-without-loosing-its-history-9b9d2da27155</a></li></ul></li><li>Using <code>git filter-branch</code><ul><li><a href="https://leyanlo.medium.com/how-to-move-one-git-repository-into-a-subdirectory-of-another-with-rebase-2b297b628c57" target="_blank" rel="noreferrer">https://leyanlo.medium.com/how-to-move-one-git-repository-into-a-subdirectory-of-another-with-rebase-2b297b628c57</a>.</li></ul></li><li>Git filter-repo manual <ul><li><a href="https://htmlpreview.github.io/?https://github.com/newren/git-filter-repo/blob/docs/html/git-filter-repo.html" target="_blank" rel="noreferrer">https://htmlpreview.github.io/?https://github.com/newren/git-filter-repo/blob/docs/html/git-filter-repo.html</a></li></ul></li></ol><h2 id="further-reading" tabindex="-1">Further Reading <a class="header-anchor" href="#further-reading" aria-label="Permalink to &quot;Further Reading&quot;">​</a></h2><p>Backlinks</p><ul><li><a href="https://www.reddit.com/r/github/comments/1bei6h6/monorepos_to_the_rescue_organizing_and_archiving" target="_blank" rel="noreferrer">r/github</a></li><li><a href="https://news.ycombinator.com/item?id=39702247" target="_blank" rel="noreferrer">HN</a></li><li><a href="https://www.linkedin.com/posts/animeshz_mono-repos-to-the-rescue-organizing-and-activity-7173990964946956288-0lQg" target="_blank" rel="noreferrer">LinkedIn</a></li></ul></div></div></main><footer class="VPDocFooter" data-v-7d2be7d2 data-v-f948c78d><!--[--><!--]--><div class="edit-info" data-v-f948c78d><div class="edit-link" data-v-f948c78d><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/Animeshz/site/edit/main/content/blogs/mono-repos-archiving-github-projects.md" target="_blank" rel="noreferrer" data-v-f948c78d><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" aria-label="edit icon" data-v-f948c78d><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> Edit this page<!--]--></a></div><div class="last-updated" data-v-f948c78d><p class="VPLastUpdated" data-v-f948c78d data-v-4f9fb653>Last updated: <time datetime="2024-05-11T14:31:57.000Z" data-v-4f9fb653></time></p></div></div><!----></footer><!--[--><!--[--><!--[--><div class="prev-next" data-v-51d10272><div class="pager" data-v-51d10272><!----></div><div class="pager" data-v-51d10272><a class="pager-link next" href="/site/blogs/chasing-productivity-1.html" data-v-51d10272><span class="desc" data-v-51d10272>Next page</span><span class="title" data-v-51d10272>Chasing productivity - Part 1: The nixification saga</span></a></div></div><div id="gitalk-container"></div><!--]--><!--]--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"blogs_creating-yet-another-distribution-zxcv-linux-1.md\":\"33e43b96\",\"blogs_linux-2.md\":\"4ea556fa\",\"notes_90-99--miscellaneous_92--learnings_92.01-counter-intuitive.md\":\"7db70407\",\"blogs_mono-repos-archiving-github-projects.md\":\"85a6f0eb\",\"blogs_demystifying-uefi.md\":\"6cddd019\",\"journal_2023_june.md\":\"1d91a2d5\",\"journal_index.md\":\"fdc82b2e\",\"blogs_void-linux.md\":\"6097f225\",\"index.md\":\"628e927d\",\"blogs_a-critical-analysis-of-linux-landscape.md\":\"3a1ca2a8\",\"blogs_working-with-binaries.md\":\"31280e56\",\"blogs_chasing-productivity-1.md\":\"30d10119\",\"blogs_git.md\":\"ed5cb7fb\",\"notes_90-99--miscellaneous_92--learnings_92.02-out-of-box.md\":\"66b6178f\",\"projects_index.md\":\"4ca4ba59\",\"blogs_index.md\":\"780c0b1a\",\"blogs_linux-1.md\":\"3d4db772\",\"blogs_ml-tldr.md\":\"2ef82c1b\",\"notes_index.md\":\"7375398e\",\"notes_20-29--devenvironment_21--linux_21.02-nix.md\":\"1afb133e\",\"blogs_using-git-for-effective-collaboration.md\":\"2a9f2471\",\"notes_90-99--miscellaneous_91--curation_91.02-awesome-resources.md\":\"a68bf80d\",\"journal_2023_july.md\":\"7ac2ead8\",\"notes_90-99--miscellaneous_91--curation_91.03-awesome-projects.md\":\"63eb3185\",\"notes_90-99--miscellaneous_91--curation_91.01-note-taking.md\":\"623432b3\",\"notes_20-29--devenvironment_22--text-editors_22.01-emacs.md\":\"311248a7\",\"notes_20-29--devenvironment_21--linux_21.03-cli-utilities.md\":\"144bab22\",\"notes_90-99--miscellaneous_92--learnings_92.03-health.md\":\"f636017f\",\"notes_20-29--devenvironment_21--linux_21.01-zfs.md\":\"5575ea2a\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-IN\",\"dir\":\"ltr\",\"title\":\"Animesh Sahu\",\"description\":\"I write about wide-variety of untouched topics in a simplified way.\",\"base\":\"/site/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"siteTitle\":\"Animesh Sahu / Home\",\"search\":{\"provider\":\"local\"},\"outline\":[2,6],\"outlineTitle\":\"Table of Contents\",\"socialLinks\":[{\"icon\":{\"svg\":\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" fill=\\\"currentColor\\\" class=\\\"bi bi-rss\\\" viewBox=\\\"0 0 16 16\\\"><path d=\\\"M5.5 12a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm-3-8.5a1 1 0 0 1 1-1c5.523 0 10 4.477 10 10a1 1 0 1 1-2 0 8 8 0 0 0-8-8 1 1 0 0 1-1-1zm0 4a1 1 0 0 1 1-1 6 6 0 0 1 6 6 1 1 0 1 1-2 0 4 4 0 0 0-4-4 1 1 0 0 1-1-1z\\\"/></svg>\"},\"link\":\"/site/atom.xml\"},{\"icon\":\"github\",\"link\":\"https://github.com/Animeshz/site\"}],\"editLink\":{\"pattern\":\"https://github.com/Animeshz/site/edit/main/content/:path\"},\"nav\":[{\"text\":\"🏠 Home\",\"link\":\"/\"},{\"text\":\"📝 Blogs\",\"link\":\"/blogs/\"},{\"text\":\"📔 Notes\",\"link\":\"/notes/\"},{\"text\":\"🚀 Projects\",\"link\":\"/projects/\"},{\"text\":\"✍🏻 Journal\",\"link\":\"/journal/\"}],\"sidebar\":{\"/notes/\":[{\"text\":\"20-29--DevEnvironment\",\"items\":[{\"text\":\"<span style=\\\"font-weight: 700;\\\">21--Linux</span>\",\"items\":[{\"text\":\"21.01-ZFS\",\"link\":\"/notes/20-29--DevEnvironment/21--Linux/21.01-ZFS\"},{\"text\":\"21.02-Nix\",\"link\":\"/notes/20-29--DevEnvironment/21--Linux/21.02-Nix\"},{\"text\":\"21.03-Cli-Utilities\",\"link\":\"/notes/20-29--DevEnvironment/21--Linux/21.03-Cli-Utilities\"}]},{\"text\":\"<span style=\\\"font-weight: 700;\\\">22--Text-Editors</span>\",\"items\":[{\"text\":\"22.01-Emacs\",\"link\":\"/notes/20-29--DevEnvironment/22--Text-Editors/22.01-Emacs\"}]}]},{\"text\":\"90-99--Miscellaneous\",\"items\":[{\"text\":\"<span style=\\\"font-weight: 700;\\\">91--Curation</span>\",\"items\":[{\"text\":\"91.01-Note-Taking\",\"link\":\"/notes/90-99--Miscellaneous/91--Curation/91.01-Note-Taking\"},{\"text\":\"91.02-Awesome-Resources\",\"link\":\"/notes/90-99--Miscellaneous/91--Curation/91.02-Awesome-Resources\"},{\"text\":\"91.03-Awesome-Projects\",\"link\":\"/notes/90-99--Miscellaneous/91--Curation/91.03-Awesome-Projects\"}]},{\"text\":\"<span style=\\\"font-weight: 700;\\\">92--Learnings</span>\",\"items\":[{\"text\":\"92.01-Counter-Intuitive\",\"link\":\"/notes/90-99--Miscellaneous/92--Learnings/92.01-Counter-Intuitive\"},{\"text\":\"92.02-Out-Of-Box\",\"link\":\"/notes/90-99--Miscellaneous/92--Learnings/92.02-Out-Of-Box\"},{\"text\":\"92.03-Health\",\"link\":\"/notes/90-99--Miscellaneous/92--Learnings/92.03-Health\"}]}]}]}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}");</script>
    
  </body>
</html>