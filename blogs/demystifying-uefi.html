<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Demystifying UEFI | Animesh Sahu</title>
    <meta name="description" content="Easily understand everything you're missing about UEFI">
    <link rel="stylesheet" href="/site/assets/style.ce760deb.css">
    <link rel="modulepreload" href="/site/assets/app.52bacc25.js">
    <link rel="modulepreload" href="/site/assets/blogs_demystifying-uefi.md.9d52e946.lean.js">
    
    <link rel="alternate" type="application/rss+xml" href="/site/rss.xml" title="Animesh Sahu | Sitewide RSS Feed">
  <link rel="alternate" type="application/atom+xml" href="/site/atom.xml" title="Animesh Sahu | Sitewide Atom Feed">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance"),a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-c6a644e1><!--[--><!--]--><!--[--><span tabindex="-1" data-v-151f2593></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-151f2593> Skip to content </a><!--]--><!----><header class="VPNav no-sidebar" data-v-c6a644e1 data-v-a71a30f1><div class="VPNavBar" data-v-a71a30f1 data-v-6f1d18b5><div class="container" data-v-6f1d18b5><div class="VPNavBarTitle" data-v-6f1d18b5 data-v-d5925166><a class="title" href="/site/" data-v-d5925166><!--[--><!--]--><!----><!--[-->Animesh Sahu / Home<!--]--><!--[--><!--]--></a></div><div class="content" data-v-6f1d18b5><!--[--><!--]--><!----><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6f1d18b5 data-v-f83db6ba><span id="main-nav-aria-label" class="visually-hidden" data-v-f83db6ba>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/site/" data-v-f83db6ba data-v-47a2263e data-v-3c355974><!--[-->Home<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/site/blogs/" data-v-f83db6ba data-v-47a2263e data-v-3c355974><!--[-->Blogs<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/site/awesome/" data-v-f83db6ba data-v-47a2263e data-v-3c355974><!--[-->Awesome<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/site/notes/" data-v-f83db6ba data-v-47a2263e data-v-3c355974><!--[-->Notes<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/site/contact/" data-v-f83db6ba data-v-47a2263e data-v-3c355974><!--[-->Contact<!--]--><!----></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6f1d18b5 data-v-a3e7452b><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-a3e7452b data-v-1899cd41 data-v-086e8519><span class="check" data-v-086e8519><span class="icon" data-v-086e8519><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-1899cd41><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-1899cd41><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6f1d18b5 data-v-738bef5a data-v-f6988cfb><!--[--><a class="VPSocialLink" href="/site/atom.xml" target="_blank" rel="noopener" data-v-f6988cfb data-v-e57698f6><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-rss" viewBox="0 0 16 16"><path d="M5.5 12a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm-3-8.5a1 1 0 0 1 1-1c5.523 0 10 4.477 10 10a1 1 0 1 1-2 0 8 8 0 0 0-8-8 1 1 0 0 1-1-1zm0 4a1 1 0 0 1 1-1 6 6 0 0 1 6 6 1 1 0 1 1-2 0 4 4 0 0 0-4-4 1 1 0 0 1-1-1z"/></svg></a><a class="VPSocialLink" href="https://github.com/Animeshz/site" target="_blank" rel="noopener" data-v-f6988cfb data-v-e57698f6><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-6f1d18b5 data-v-e89b88d7 data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-6ffb57d3><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-6ffb57d3><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><!----><!--[--><!--[--><!----><div class="group" data-v-e89b88d7><div class="item appearance" data-v-e89b88d7><p class="label" data-v-e89b88d7>Appearance</p><div class="appearance-action" data-v-e89b88d7><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-e89b88d7 data-v-1899cd41 data-v-086e8519><span class="check" data-v-086e8519><span class="icon" data-v-086e8519><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-1899cd41><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-1899cd41><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-e89b88d7><div class="item social-links" data-v-e89b88d7><div class="VPSocialLinks social-links-list" data-v-e89b88d7 data-v-f6988cfb><!--[--><a class="VPSocialLink" href="/site/atom.xml" target="_blank" rel="noopener" data-v-f6988cfb data-v-e57698f6><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-rss" viewBox="0 0 16 16"><path d="M5.5 12a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm-3-8.5a1 1 0 0 1 1-1c5.523 0 10 4.477 10 10a1 1 0 1 1-2 0 8 8 0 0 0-8-8 1 1 0 0 1-1-1zm0 4a1 1 0 0 1 1-1 6 6 0 0 1 6 6 1 1 0 1 1-2 0 4 4 0 0 0-4-4 1 1 0 0 1-1-1z"/></svg></a><a class="VPSocialLink" href="https://github.com/Animeshz/site" target="_blank" rel="noopener" data-v-f6988cfb data-v-e57698f6><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6f1d18b5 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div><!----></header><!----><!----><div class="VPContent" id="VPContent" data-v-c6a644e1 data-v-c95df128><div class="VPDoc has-aside" data-v-c95df128 data-v-37ebe389><div class="container" data-v-37ebe389><div class="aside" data-v-37ebe389><div class="aside-curtain" data-v-37ebe389></div><div class="aside-container" data-v-37ebe389><div class="aside-content" data-v-37ebe389><div class="VPDocAside" data-v-37ebe389 data-v-afc4c1a1><!--[--><!--]--><!--[--><!--[--><!--[--><!--[--><div id="action-nav" class="custom-nv" data-v-71afc714><a class="icon" href="#" aria-label="Top of Page" data-v-71afc714><!----></a><div data-v-71afc714><a class="icon" href="#" aria-label="Share" data-v-71afc714><!----></a><ul id="share-icons" class="custom-share" style="max-height: 0px" data-v-71afc714><li data-v-71afc714><a class="icon" href="mailto:?subject={#{{ page.title }}#}&amp;body=Check out this article: {#{{ page.permalink }}#}" aria-label="Email" data-v-71afc714><!----></a></li><!--[--><li data-v-71afc714><a class="icon" href="" aria-label="facebook" data-v-71afc714><!----></a></li><li data-v-71afc714><a class="icon" href="" aria-label="twitter" data-v-71afc714><!----></a></li><li data-v-71afc714><a class="icon" href="" aria-label="linkedin" data-v-71afc714><!----></a></li><li data-v-71afc714><a class="icon" href="" aria-label="discord" data-v-71afc714><!----></a></li><li data-v-71afc714><a class="icon" href="" aria-label="pinterest" data-v-71afc714><!----></a></li><li data-v-71afc714><a class="icon" href="" aria-label="get-pocket" data-v-71afc714><!----></a></li><li data-v-71afc714><a class="icon" href="" aria-label="reddit" data-v-71afc714><!----></a></li><li data-v-71afc714><a class="icon" href="" aria-label="tumblr" data-v-71afc714><!----></a></li><!--]--></ul></div><i style="font-size:14px;text-align:right;flex-grow:1;" data-v-71afc714></i></div><!--]--><!--]--><!--]--><!--]--><div class="VPDocAsideOutline" data-v-afc4c1a1 data-v-2865c0b0><div class="content" data-v-2865c0b0><div class="outline-marker" data-v-2865c0b0></div><div class="outline-title" data-v-2865c0b0>Table of Contents</div><nav aria-labelledby="doc-outline-aria-label" data-v-2865c0b0><span class="visually-hidden" id="doc-outline-aria-label" data-v-2865c0b0> Table of Contents for current page </span><ul class="root" data-v-2865c0b0 data-v-1188541a><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-afc4c1a1></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-37ebe389><div class="content-container" data-v-37ebe389><!--[--><!--[--><!--[--><div class="custom-block"> Cool Tip: Turn on dark mode for better experience! </div><!--]--><!--]--><!--]--><main class="main" data-v-37ebe389><div style="position:relative;" class="vp-doc _site_blogs_demystifying-uefi" data-v-37ebe389><div><h1 id="frontmatter-title" tabindex="-1">Demystifying UEFI <a class="header-anchor" href="#frontmatter-title" aria-hidden="true">#</a></h1><p style="font-size:18px;">Easily understand everything you&#39;re missing about UEFI</p><p style="color:gray;font-size:14px;">2023-05-10 2:03 PM - <span class="tags"><!--[--><span>#uefi</span><span>#demystifying</span><!--]--></span></p><hr><p><img src="/site/assets/processor-chip.1de84aef.jpg" alt="Cover Image"></p><p><strong>Today</strong> I did something really cool, made UKI (in the article) after few weeks of attempt.</p><p>Has this ever happened to you? After a long time, errors seem to go away and <em>everything starts working again</em>. Its such a nice feeling.</p><p>As an occassional low-level programming enjoyer, it feels really nice to work with something that you use everyday but are unaware of how it really works under the hood.</p><p>Let me show it by example, <em>sqaure root</em>, a simple thing right? How does it look in code, more simply how do you calculate it except just hit n trial? Computer does it in a deterministic way. Although I needed atleast 25-30 jump-to-definitions in Java&#39;s source code to find out how it actually worked. And simplified, its as simple as:</p><div class="language-cpp line-numbers-mode"><button class="copy"></button><span class="lang">cpp</span><pre><code><span class="line"><span style="color:#C792EA;">double</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">sqrt</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">double</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">n</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">double</span><span style="color:#A6ACCD;"> a </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> n</span><span style="color:#89DDFF;">/</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;">  // TBH anything, really, except 0 ofc.</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> i</span><span style="color:#89DDFF;">++)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    a </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0.5</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">a </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> n</span><span style="color:#89DDFF;">/</span><span style="color:#F07178;">a</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> a</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>What the ƒυ¢к? Weren&#39;t we trying to calculate n to the power of 1/2? Really we do, but we can write the equation of power 1/2 in linear form (power 1). Now for those interested in how does this work, refer <a href="https://en.wikipedia.org/wiki/Newton%27s_method#Description" target="_blank" rel="noreferrer">Newton&#39;s Method</a>, its really simple.</p><p>The point is, exploring 25-30 definition jumps was worth it in the end!</p><p><em>UEFI</em> is quite similar too, its something that we use every single day, yet we&#39;re mostly unaware of how it works, and hence the curious boy will do everything to unravel the mystery.</p><h2 id="fundamentals-about-computers" tabindex="-1">Fundamentals about computers <a class="header-anchor" href="#fundamentals-about-computers" aria-hidden="true">#</a></h2><p>I recently saw a video <a href="https://youtu.be/ZSSNFkEMv24" target="_blank" rel="noreferrer">What is voltage? (joke video)</a> posted on the April fools day, questioning why did it take you 5 years to fully understand the voltage. Its really funny one, I&#39;d encourage you to check it out. Its really feels daunting when society makes it difficult, by telling partial-statements and incrementally correct it out with time while not telling the most obvious truth.</p><p>It may seem a bit <em>boring</em>, maybe. But the way we want to start demystifying UEFI is by looking at the most obvious truth about computers.</p><p>That computers are made up of little switches (also known as transistors). When we press the power button, we let some electricity flow into the BIOS/CMOS chip for a short duration of time. These chips generally contains an EPROM (Erasable Programmable Read-Only Memory) which is flashed with something called as a firmware-descriptor (fd) through some equipments externally.</p><p>With a small flow of electricity, the firmware-descriptor present (which also contains the UEFI screen you see by pressing f2/f10 at the boot time), in the chip starts the booting sequence, by opening some gate and activating DRAM, then CPU then rest of the components.</p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/4e/Efi-simple.svg/1200px-Efi-simple.svg.png" width="40%" style="margin:auto;"><p>Once the RAM and the CPU is functional for the first time, it scans all the vFAT partitions in the connected drives and start looking for <code>/EFI/*/*.efi</code> files. Once it finds one, it tries to launch and give full hardware control to it.</p><h2 id="the-efi-file" tabindex="-1">The *.efi file <a class="header-anchor" href="#the-efi-file" aria-hidden="true">#</a></h2><p>This one&#39;s really <em>interesting</em>. When your computer has just started off, it knows nothing about what to do, and this is the first file that tells it what to do.</p><p>In contrast, the *.efi file is just a simple binary, except that a few restrictions have been imposed by the <a href="https://uefi.org/sites/default/files/resources/UEFI%20Spec%202.8B%20May%202020.pdf" target="_blank" rel="noreferrer">UEFI Specifications</a>, namely the binary must use Microsoft ABI, be position independent, and the binary format should be PE32+ (self-contained) not the regular ELF (OS-dependent) that we use.</p><p>If we understand even a bit of it, we know that we need to build a binary targeting Microsoft Windows, and it doesn&#39;t use any of standard libraries (since there&#39;s no OS).</p><p>So let&#39;s just make a Hello World efi binary, because,</p><div class="custom-block quote" data-v-dcd128b5><!--[-->Theory and practice sometimes clash. And when that happens, theory loses.<br>Every single time.<!--]--><div style="text-align:right;" data-v-dcd128b5>- Linus Torvalds</div></div><h3 id="efi-programming-model" tabindex="-1">EFI Programming Model <a class="header-anchor" href="#efi-programming-model" aria-hidden="true">#</a></h3><p>Before we begin, we first have to know a few things,</p><ul><li>We can&#39;t use any of the standard headers that depend on the OS, not even <code>iostream</code> or <code>stdio.h</code>.</li><li>UEFI fd exposes a few functionalities by giving our efi entrypoint two parameters, that are pointer of <code>EFI_HANDLE</code> and <code>EFI_SYSTEM_TABLE</code>. The one that is useful to us is the latter one, it&#39;ll let us write to the console.</li><li>LLVM/Clang compiler toolchain (clang+lld) provides built-in support for cross-compilation (otherwise we&#39;d have to <a href="https://github.com/Animeshz/mainstream-cross-compilers" target="_blank" rel="noreferrer">compile gcc targeting windows</a> and even after that we&#39;d have to tell it to use Microsoft ABI at link-time).</li></ul><h3 id="hello-world-in-efi" tabindex="-1">Hello World in EFI <a class="header-anchor" href="#hello-world-in-efi" aria-hidden="true">#</a></h3><p>First let&#39;s install the dependencies we&#39;d require to build our first EFI code:</p><div class="language-bash line-numbers-mode"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">sudo xbps-install clang lld</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Here&#39;s a basic <code>Makefile</code> setup for compiling our first EFI code.</p><div class="language-make line-numbers-mode"><button class="copy"></button><span class="lang">make</span><pre><code><span class="line"><span style="color:#A6ACCD;">CC </span><span style="color:#89DDFF;">:=</span><span style="color:#A6ACCD;"> clang</span></span>
<span class="line"><span style="color:#A6ACCD;">LD </span><span style="color:#89DDFF;">:=</span><span style="color:#A6ACCD;"> lld</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">CFLAGS </span><span style="color:#89DDFF;">:=</span><span style="color:#A6ACCD;"> -ffreestanding -MMD -mno-red-zone -std=c11 -target x86_64-unknown-windows</span></span>
<span class="line"><span style="color:#A6ACCD;">LDFLAGS </span><span style="color:#89DDFF;">:=</span><span style="color:#A6ACCD;"> -flavor link -subsystem:efi_application -entry:efi_main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">default</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> all clean</span></span>
<span class="line"><span style="color:#82AAFF;">all</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> main.efi</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">%.o</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> %.c</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">$(</span><span style="color:#A6ACCD;">CC</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$(</span><span style="color:#A6ACCD;">CFLAGS</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> -c $&lt; -o $@</span></span>
<span class="line"><span style="color:#82AAFF;">%.efi</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> %.o</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">$(</span><span style="color:#A6ACCD;">LD</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$(</span><span style="color:#A6ACCD;">LDFLAGS</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> $&lt; -out:$@</span></span>
<span class="line"><span style="color:#82AAFF;">clean</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">	rm -fv *.o *.d</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">.PHONY</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> clean all default</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>Let&#39;s open up <code>main.c</code> now and define out entry point,</p><div class="language-cpp line-numbers-mode"><button class="copy"></button><span class="lang">cpp</span><pre><code><span class="line"><span style="color:#89DDFF;">#include</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">stdint.h</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#C792EA;">uint64_t</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">efi_main</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">*</span><span style="color:#A6ACCD;">handle</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">*</span><span style="color:#A6ACCD;">system_table</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>and run <code>make</code>, it should produce a <code>main.efi</code> file, and we can run <code>file main.efi</code> to ensure its metadata are as expected.</p><div class="language-bash line-numbers-mode"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">$ make</span></span>
<span class="line"><span style="color:#A6ACCD;">clang -ffreestanding -MMD -mno-red-zone -std=c11 -target x86_64-unknown-windows -c main.c -o main.o</span></span>
<span class="line"><span style="color:#A6ACCD;">lld -flavor link -subsystem:efi_application -entry:efi_main main.o -out:main.efi</span></span>
<span class="line"><span style="color:#A6ACCD;">rm -fv </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;">.o </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;">.d</span></span>
<span class="line"><span style="color:#A6ACCD;">removed </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">main.o</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">removed </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">main.d</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">$ file main.efi</span></span>
<span class="line"><span style="color:#A6ACCD;">main.efi: PE32+ executable </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">EFI application</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> x86-64, </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> MS Windows</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="making-a-test-environment" tabindex="-1">Making a test environment <a class="header-anchor" href="#making-a-test-environment" aria-hidden="true">#</a></h3><p>Till now, everything seems great, although I don&#39;t think its a good idea to just throw the efi file to the <code>/boot/efi</code> and start booting your laptop/pc from it.</p><p>A better approach would be to spin up a small qemu vm and run the efi image/binary from there.</p><p>First let&#39;s install the dependencies:</p><div class="language-bash line-numbers-mode"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">sudo xbps-install qemu</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Now we spin up a new qemu vm with current directory serving as a root filesystem to the vm:</p><div class="language-bash line-numbers-mode"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">qemu-system-x86_64 \</span></span>
<span class="line"><span style="color:#A6ACCD;">     -drive if=pflash,format=raw,readonly,file=/usr/share/qemu/edk2-x86_64-code.fd \</span></span>
<span class="line"><span style="color:#A6ACCD;">     -drive format=raw,file=fat:rw:</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">PWD \</span></span>
<span class="line"><span style="color:#A6ACCD;">     -net none \</span></span>
<span class="line"><span style="color:#A6ACCD;">     -nographic</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>The important options are the two <code>-drive</code> options, first tells the VM to use the edk2 firmware-descriptor as UEFI (similar to one flashed on to your EPROM in the BIOS chip), the second mounts current directory (<code>$PWD</code>) as a vFAT filesystem in the VM.</p><p>Rest of options are just personal preference, <code>-net none</code> tells to not provide any network access to the vm, <code>-nographic</code> tells qemu can occupy our current terminal instead of a new graphical window (its convenient as I&#39;m majorly a keyboard-centric guy).</p><p>This should drop you to a EFI shell, to load your efi file, run the following:</p><div class="language-bash line-numbers-mode"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">Shell</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> fs0:</span></span>
<span class="line"><span style="color:#A6ACCD;">fs0:\&gt; main.efi</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>It outputs nothing, and that&#39;s good thing because there were no errors, hence everything worked perfectly!</p><h3 id="hello-world-in-efi-continue" tabindex="-1">Hello World in EFI (continue) <a class="header-anchor" href="#hello-world-in-efi-continue" aria-hidden="true">#</a></h3><p>So far, we ran the efi binary, but we didn&#39;t print &quot;Hello World&quot; as we promised. So let&#39;s just do exactly that.</p><p>To do that, we can&#39;t use <code>iostream</code> or <code>stdio.h</code>, since there&#39;s no OS outside the UEFI environment there&#39;s no implementation of those headers, but we know that UEFI gave us two paramters in our entry point. Maybe that could help us?</p><p>And the answer is yes, the UEFI has started the screen and knows how to write something to the console, the pointer to <code>EFI_SYSTEM_TABLE</code> contains routines (function pointers) that we can call to perform some actions available.</p><p>So, let&#39;s modify our <code>main.c</code> file:</p><div class="language-cpp line-numbers-mode"><button class="copy"></button><span class="lang">cpp</span><pre><code><span class="line"><span style="color:#89DDFF;">#include</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">stdint.h</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">#include</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">stdbool.h</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">typedef</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">struct</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">efi_table_header</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">uint64_t</span><span style="color:#F07178;"> signature</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">uint32_t</span><span style="color:#F07178;"> revision</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">uint32_t</span><span style="color:#F07178;"> header_size</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">uint32_t</span><span style="color:#F07178;"> crc32</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">uint32_t</span><span style="color:#F07178;"> reserved</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">efi_table_header</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">typedef</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">struct</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">efi_simple_text_output_protocol</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">uint64_t</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(*</span><span style="color:#A6ACCD;">unused1</span><span style="color:#89DDFF;">)(</span><span style="color:#C792EA;">struct</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">efi_simple_text_output_protocol</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">*</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">bool</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">uint64_t</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(*</span><span style="color:#A6ACCD;">output_string</span><span style="color:#89DDFF;">)(</span><span style="color:#C792EA;">struct</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">efi_simple_text_output_protocol</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">*</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">uint16_t</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">*</span><span style="color:#A6ACCD;">string</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">uint64_t</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(*</span><span style="color:#A6ACCD;">unused2</span><span style="color:#89DDFF;">)(</span><span style="color:#C792EA;">struct</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">efi_simple_text_output_protocol</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">*</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">uint16_t</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">*</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">uint64_t</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(*</span><span style="color:#A6ACCD;">unused3</span><span style="color:#89DDFF;">)(</span><span style="color:#C792EA;">struct</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">efi_simple_text_output_protocol</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">*</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">uint64_t</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">uint64_t</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">*</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">uint64_t</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">*</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">uint64_t</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(*</span><span style="color:#A6ACCD;">unused4</span><span style="color:#89DDFF;">)(</span><span style="color:#C792EA;">struct</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">efi_simple_text_output_protocol</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">*</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">uint64_t</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">uint64_t</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(*</span><span style="color:#A6ACCD;">unused5</span><span style="color:#89DDFF;">)(</span><span style="color:#C792EA;">struct</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">efi_simple_text_output_protocol</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">*</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">uint64_t</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">uint64_t</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(*</span><span style="color:#A6ACCD;">clear_screen</span><span style="color:#89DDFF;">)(</span><span style="color:#C792EA;">struct</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">efi_simple_text_output_protocol</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">*</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">uint64_t</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(*</span><span style="color:#A6ACCD;">unused6</span><span style="color:#89DDFF;">)(</span><span style="color:#C792EA;">struct</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">efi_simple_text_output_protocol</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">*</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">uint64_t</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">uint64_t</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">uint64_t</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(*</span><span style="color:#A6ACCD;">unused7</span><span style="color:#89DDFF;">)(</span><span style="color:#C792EA;">struct</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">efi_simple_text_output_protocol</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">*</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">bool</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">void</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;">unused8</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">efi_simple_text_output_protocol</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">typedef</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">struct</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">efi_system_table</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  efi_table_header header</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">uint16_t</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;">unused1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">uint32_t</span><span style="color:#F07178;"> unused2</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">void</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;">unused3</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">void</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;">unused4</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">void</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;">unused5</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  efi_simple_text_output_protocol </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;">out</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">void</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;">unused6</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">void</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;">unused7</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">void</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;">unused8</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">void</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;">unused9</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">uint64_t</span><span style="color:#F07178;"> unused10</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">void</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;">unused11</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">efi_system_table</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">uint64_t</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">efi_main</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">*</span><span style="color:#A6ACCD;">handle</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">efi_system_table</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">*</span><span style="color:#A6ACCD;">system_table</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">uint16_t</span><span style="color:#A6ACCD;"> msg[] </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">u&quot;</span><span style="color:#C3E88D;">Hello World!</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">uint64_t</span><span style="color:#A6ACCD;"> status</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">   status </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> system_table</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">clear_screen</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">system_table</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">status </span><span style="color:#89DDFF;">!=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">     </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> status</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">   status </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> system_table</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">output_string</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">system_table</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> msg</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">status </span><span style="color:#89DDFF;">!=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">     </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> status</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">while</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br></div></div><p>Ok, too much to ingest. But first let&#39;s compile and run,</p><div class="language-bash line-numbers-mode"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">$ make</span></span>
<span class="line"><span style="color:#A6ACCD;">$ qemu-system-x86_64 \</span></span>
<span class="line"><span style="color:#A6ACCD;">     -drive if=pflash,format=raw,readonly,file=/usr/share/qemu/edk2-x86_64-code.fd \</span></span>
<span class="line"><span style="color:#A6ACCD;">     -drive format=raw,file=fat:rw:</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">PWD \</span></span>
<span class="line"><span style="color:#A6ACCD;">     -net none \</span></span>
<span class="line"><span style="color:#A6ACCD;">     -nographic</span></span>
<span class="line"><span style="color:#A6ACCD;">Shell</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> fs0:</span></span>
<span class="line"><span style="color:#A6ACCD;">fs0:\&gt; main.efi</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">Hello World</span><span style="color:#89DDFF;">!</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>Voila! We finally been able to write a Hello World on the UEFI console!</p><p>The code basically defines (because I wanted the code to be any dependency-free), and use the simple text io interface from the <code>EFI_SYSTEM_TABLE</code> (that is the second parameter to our entrypoint).</p><p>Where there are two important function pointers, <code>clear_screen</code> and <code>output_string</code>. It seems that accross the UEFI Specification they mostly use UCS-2 encoded strings (16-bit wide), so we define our string as unicode <code>u&quot;Hello World!&quot;</code> and pass it to the <code>output_string</code>.</p><p>That&#39;s it, now you can start whatever you want to do with UEFI, it also provides graphics and filesystem API through the same <code>EFI_SYSTEM_TABLE</code> so you can draw something or load up other binaries, kernels, and more. And that&#39;s what most UEFI implementations do, like for example <strong>grub</strong>, or other <strong>edk2 applications such as Ventoy</strong>.</p><h2 id="unified-kernel-image-uki" tabindex="-1">Unified Kernel Image (UKI) <a class="header-anchor" href="#unified-kernel-image-uki" aria-hidden="true">#</a></h2><p>Another interesting usecase of learning about UEFI is that now you can make a portable linux efi image. That basically package efi-stub, initramfs/initrd, kernel, (optionally) rootfs all in a single *.efi file. Making computer need no more than a single file to boot up a linux.</p><p>They help us in two ways,</p><ul><li>Allow a direct netboot (without a disk).</li><li>Boot up really <em>really</em> fast (ignoring middle-man like grub).</li></ul><p>Let me tell you a story, a few weeks ago, in our college, we had to create a cluster for ML purposes, where we had to boot multiple computers at once and spin up all of them to do the required things. To do this, we obviously had to create a self-configuring or self-configured image, and perform a netboot (that can be done by serving the file from any computer using simple built-in http server: <code>python3 -m http.server</code>) so that we won&#39;t have to plug the USB stick everytime to each and every of the computers out there, and also to not affect the internal disks (that&#39;s why we&#39;re doing netboot), we had to load everything in RAM. What could be better than Unified Kernel Images?</p><p>And for geeks like us as well, who don&#39;t use more than 1 OS, we don&#39;t really need the grub, and thus we can speed up our boot process by utilizing the UKI.</p><p>So, let&#39;s try building one!</p><h3 id="building-a-uki-for-currently-running-desktop-linux" tabindex="-1">Building a UKI for currently running desktop linux <a class="header-anchor" href="#building-a-uki-for-currently-running-desktop-linux" aria-hidden="true">#</a></h3><p>Fortunately enough, the dracut generally described as &quot;a low-level tool for generating an initramfs/initrd image&quot;, supports building a UKI. So if you&#39;re on any modern linux distribution and already using dracut under the hood, you can easily adapt to UKI without much of a hassle.</p><p>To do this, first we would need a efi-stub,</p><div class="language-bash line-numbers-mode"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">sudo xbps-install gummiboot</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>and then we specify UKI configuration, in a file say <code>my-dracut-uki.conf</code>:</p><div class="language-bash line-numbers-mode"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">uefi=yes</span></span>
<span class="line"><span style="color:#A6ACCD;">uefi_stub=/usr/lib/gummiboot/linuxx64.efi.stub</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>the <code>uefi=yes</code> is the main option that produces the *.efi binary, and <code>uefi_stub</code> is required do that.</p><p>Now, since grub is going to get out of the way, we also need to specify the kernel parameters here so that they are passed at the boot time.</p><p>Currently used kernel parameters can be fetched from the <code>/proc/cmdline</code> file. So let&#39;s extract them, with our bash skills:</p><div class="language-bash line-numbers-mode"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">cat /proc/cmdline </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> sed </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">s/^\| /\n    /g</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Now copy them and place it within <code>CMDLINE=</code>, and hence our new config should look like:</p><div class="language-bash line-numbers-mode"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">uefi=yes</span></span>
<span class="line"><span style="color:#A6ACCD;">uefi_stub=/usr/lib/gummiboot/linuxx64.efi.stub</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">CMDLINE=</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">    BOOT_IMAGE=/boot/vmlinuz-5.18.19_1</span></span>
<span class="line"><span style="color:#A6ACCD;">    root=UUID=bb4d72db-5f94-4390-b02c-a4de5a73235f</span></span>
<span class="line"><span style="color:#A6ACCD;">    ro</span></span>
<span class="line"><span style="color:#A6ACCD;">    loglevel=4</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">acpi_osi=Windows 2020</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    net.ifnames=0</span></span>
<span class="line"><span style="color:#A6ACCD;">    i915.enable_psr=1</span></span>
<span class="line"><span style="color:#A6ACCD;">    intel_pstate=disable</span></span>
<span class="line"><span style="color:#A6ACCD;">    nvme.noacpi=1</span></span>
<span class="line"><span style="color:#A6ACCD;">    intel_iommu=on</span></span>
<span class="line"><span style="color:#A6ACCD;">    rd.driver.pre=vfio-pci</span></span>
<span class="line"><span style="color:#A6ACCD;">    kvm.ignore_msrs=1</span></span>
<span class="line"><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">kernel_cmdline=</span><span style="color:#89DDFF;">&quot;${</span><span style="color:#A6ACCD;">CMDLINE</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">*</span><span style="color:#89DDFF;">]}&quot;</span></span>
<span class="line"><span style="color:#82AAFF;">unset</span><span style="color:#A6ACCD;"> CMDLINE</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>After that we&#39;re ready to create and add that *.efi into our boot entry:</p><div class="language-bash line-numbers-mode"><button class="copy"></button><span class="lang">bash</span><pre><code><span class="line"><span style="color:#A6ACCD;">dracut --force --verbose --kver </span><span style="color:#89DDFF;">$(</span><span style="color:#C3E88D;">uname -r</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> --conf my-dracut-uki.conf linux+initramfs.efi</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">sudo mkdir -p /boot/efi/EFI/void_custom/</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo cp linux+initramfs.efi /boot/efi/EFI/void_custom/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">sudo efibootmgr --create --disk /dev/nvme0n1 --label </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Void Linux - Custom</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> --loader /EFI/void_custom/linux+initramfs.efi</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">efibootmgr  </span><span style="color:#676E95;"># lists boot order</span></span>
<span class="line"><span style="color:#676E95;"># manually set boot order making this UKI (0002) in higher priority</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo efibootmgr --bootorder 0002,0001,2001,2002,2003</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>Time to reboot and ensure everything works just like before, grub should be skipped and boot should happen from our new UKI <code>linux+initramfs.efi</code> image, and that will be significantly faster to boot than booting normally.</p><h2 id="instead-of-conclusion" tabindex="-1">Instead of conclusion <a class="header-anchor" href="#instead-of-conclusion" aria-hidden="true">#</a></h2><p>Hopefully the article have given a good insight on how computers start, UEFI firmware-descriptor (fd), *.efi image (or binaries), and how later they use everything else to make computer run fully functioning. As well as for you to set-up a test environment for running that.</p><p>UKIs are also a great way to reduce the boot-time of the system.</p><p>Working with UEFI has great potentials, there&#39;s projects like <a href="https://github.com/hartwork/grub2-theme-preview" target="_blank" rel="noreferrer">grub2-theme-preview</a> that helps you try out <a href="https://github.com/Jacksaur/Gorgeous-GRUB" target="_blank" rel="noreferrer">some great grub2-themes</a>, and you can also get started with embedded development, <a href="https://github.com/tianocore/edk2" target="_blank" rel="noreferrer">EDK2</a> is a community project for UEFI development, that is also used by <a href="https://github.com/ventoy/Ventoy" target="_blank" rel="noreferrer">Ventoy</a> a tool to create multi-boot USB with ease.</p><p>You can also make a custom portable pre-configured linux images, in a USB-drive that is loaded on the RAM using <code>root=live:&lt;URL&gt;</code> kernel parameter <a href="https://man7.org/linux/man-pages/man7/dracut.cmdline.7.html" target="_blank" rel="noreferrer">more info on dracut man page</a>, that you can plug anywhere, and it&#39;ll contain all the configurations you like immediately after boot.</p><h2 id="postscript" tabindex="-1">PostScript <a class="header-anchor" href="#postscript" aria-hidden="true">#</a></h2><p>Read discussion on <a href="https://www.reddit.com/r/embedded/comments/13dmyqo/demystifying_uefi_article" target="_blank" rel="noreferrer">r/embedded</a>, <a href="https://www.reddit.com/r/linux/comments/13dn6he/demystifying_uefi_building_unified_kernel_images" target="_blank" rel="noreferrer">r/linux</a> and <a href="https://www.reddit.com/r/voidlinux/comments/13dn3k8/demystifying_uefi_article" target="_blank" rel="noreferrer">r/voidlinux</a>.</p><div class="custom-block quote" data-v-dcd128b5><!--[-->Stay hungry, stay foolish.<!--]--><div style="text-align:right;" data-v-dcd128b5>- Steve Jobs</div></div></div></div></main><!--[--><!--[--><!--[--><div><br><a href="https://www.patreon.com/AnimeshSahu" target="_blank"><span class="like-btn"> Like my work? </span><span class="patreon-btn"><svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="#fff" style="display:inline;" viewBox="0 0 512 512"><path d="M512 194.8c0 101.3-82.4 183.8-183.8 183.8-101.7 0-184.4-82.4-184.4-183.8 0-101.6 82.7-184.3 184.4-184.3C429.6 10.5 512 93.2 512 194.8zM0 501.5h90v-491H0v491z"></path></svg> Support me on Patreon! </span></a></div><!--]--><!--]--><!--]--><footer class="VPDocFooter" data-v-37ebe389 data-v-a54a85bd><div class="edit-info" data-v-a54a85bd><div class="edit-link" data-v-a54a85bd><a class="VPLink link edit-link-button" href="https://github.com/Animeshz/site/edit/main/content/blogs/demystifying-uefi.md" target="_blank" rel="noreferrer" data-v-a54a85bd data-v-3c355974><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" data-v-a54a85bd><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> Edit this page<!--]--><!----></a></div><!----></div><!----></footer><!--[--><!--[--><!--[--><div class="prev-next" data-v-51d10272><div class="pager" data-v-51d10272><a class="pager-link prev" href="/site/blogs/void-linux.html" data-v-51d10272><span class="desc" data-v-51d10272>Previous page</span><span class="title" data-v-51d10272>Unmasking the hidden gems of Void Linux</span></a></div><div class="has-prev pager" data-v-51d10272><a class="pager-link next" href="/site/blogs/git.html" data-v-51d10272><span class="desc" data-v-51d10272>Next page</span><span class="title" data-v-51d10272>Learn Git - The easy way</span></a></div></div><!--]--><!--]--><!--]--></div></div></div></div></div><!----><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"awesome_index.md\":\"0801fed5\",\"awesome_stuffs_extensions.md\":\"fa46963d\",\"awesome_stuffs_freebies.md\":\"9e383afd\",\"awesome_stuffs_linux.md\":\"aaba04e9\",\"awesome_stuffs_web.md\":\"99127528\",\"awesome_truly_blogs.md\":\"79983d5b\",\"awesome_truly_learning-resources.md\":\"ad62c902\",\"awesome_truly_life-lessions.md\":\"010c2c43\",\"awesome_truly_pages.md\":\"1f8e66b8\",\"blogs_demystifying-uefi.md\":\"9d52e946\",\"blogs_git.md\":\"5c476c38\",\"blogs_index.md\":\"c3c2e6b1\",\"blogs_linux-1.md\":\"71223dbe\",\"blogs_linux-2.md\":\"38797b9d\",\"blogs_ml-tldr.md\":\"722e1ffe\",\"blogs_void-linux.md\":\"24938e72\",\"blogs_working-with-binaries.md\":\"ffc09ef3\",\"contact_index.md\":\"0c8f4e28\",\"index.md\":\"20a549aa\",\"notes_index.md\":\"ccb25fa0\",\"notes_linux_linux-random-stuffs.md\":\"8da0a0a2\",\"notes_linux_linux-setup.md\":\"839fb12b\",\"notes_linux_linux-troubleshooting.md\":\"3d69b70f\",\"notes_linux_nix.md\":\"2f72cf18\",\"notes_notes_cli-tools.md\":\"21bd8fdb\",\"notes_notes_framework.md\":\"e0136741\",\"notes_notes_rust.md\":\"653980b3\",\"notes_notes_todos.md\":\"05f2aee0\",\"notes_notes_troubleshooting.md\":\"e050f891\",\"point-of-interest_index.md\":\"15916fbc\",\"setup_index.md\":\"2dfd973d\"}")</script>
    <script type="module" async src="/site/assets/app.52bacc25.js"></script>
    
  </body>
</html>